<div class ="sidenav-container">
  <div class="sidenav-header">
    <identifier-form
      [originalIdentifier]="originalGroupName"
      [identifierMap]="groupNameMap"
      (duplicateIdentifier)="onDuplicateGroupName($event)"
      (identifierEmitter)="onGroupNameChange($event)">
    </identifier-form>

    <button mat-icon-button (click)="onCancel()">
      <mat-icon svgIcon="clear"></mat-icon>
    </button>
  </div>

  <form [formGroup]="formGroup" (ngSubmit)="onSubmit()">
    <p>Add Item:</p>

    <mat-select #itemSelector
      [disabled]="collectionItems.length === 0"
      (selectionChange)="onItemSelect($event)">
      <mat-option [value]="item" *ngFor="let item of collectionItems">
        {{item.identifier}}
      </mat-option>
    </mat-select>

    <p>Items:</p>

    <mat-list-item *ngFor="let mapping of groupMappings">
      <div mat-line class="item-line">
        {{mapping.item.identifier}}

        <mat-icon svgIcon="clear" matTooltip="Delete this item" (click)="onDeleteItem(mapping.item)"></mat-icon>
      </div>
    </mat-list-item>

    <div class="sidenav-actions">
      <button mat-raised-button color="primary" type="submit">Save</button>
    </div>
  </form>
</div>
